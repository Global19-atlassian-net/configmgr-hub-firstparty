<sequence version="3.10"><step type="SMS_TaskSequence_SetVariableAction" name="README" description="" runIn="WinPEandFullOS" successCodeList="0" retryCount="0" runFromNet="false"><action>tsenv.exe "README=This task sequence demonstrates using a WMI condition on a Group to test if HyperVisor is present. If HyperVisor is detected then any steps in that group would run, if not the entire Group is skipped. For more information see: https://docs.microsoft.com/en-us/mem/configmgr/osd/understand/using-task-sequence-variables" /hiddenflag:False</action><defaultVarList><variable name="DoNotShowVariableValue" property="DoNotShowVariableValue" hidden="true">false</variable><variable name="VariableName" property="VariableName" hidden="true">README</variable><variable name="VariableValue" property="VariableValue" hidden="true">This task sequence demonstrates using a WMI condition on a Group to test if HyperVisor is present. If HyperVisor is detected then any steps in that group would run, if not the entire Group is skipped. For more information see: https://docs.microsoft.com/en-us/mem/configmgr/osd/understand/using-task-sequence-variables</variable></defaultVarList></step><group name="Is HyperVisor present? - WMI condition set to test" description="Query Win32_ComputerSystem where HypervisorPresent = &quot;1&quot;. This indicates HyperVisor is present"><condition><expression type="SMS_TaskSequence_WMIConditionExpression"><variable name="Namespace">root\cimv2</variable><variable name="Query">Select * from Win32_ComputerSystem where HypervisorPresent = "1"</variable></expression></condition><step type="SMS_TaskSequence_RunCommandLineAction" name="Steps dependant on HyperVisors presence go here" description="" runIn="WinPEandFullOS" successCodeList="0 3010" retryCount="0" runFromNet="false"><action>smsswd.exe /run: cmd /c "Something HyperVisor related"</action><defaultVarList><variable name="CommandLine" property="CommandLine" hidden="true">cmd /c "Something HyperVisor related"</variable><variable name="SMSTSDisableWow64Redirection" property="DisableWow64Redirection">false</variable><variable name="SMSTSRunCommandLineOutputVariableName" property="OutputVariableName"></variable><variable name="_SMSTSRunCommandLineAsUser" property="RunAsUser">false</variable><variable name="SuccessCodes" property="SuccessCodes" hidden="true">0 3010</variable></defaultVarList></step></group></sequence>
